<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>G25长深高速德清至富阳段扩容杭州段及G25富阳至G60诸暨高速联络线工程沥青路面施工质量管控系统</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<link rel="stylesheet" href="../../css/hzBigScreen.css">
		<link rel="stylesheet" href="../../css/swiper.min.css">
		<script type="text/javascript" src="../../js/plugin/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="../../js/private/layout.js"></script>
		<script type="text/javascript" src="../../js/plugin/swiper.min.js"></script>
		<script type="text/javascript" src="../../js/private/utils.js"></script>
		<script type="text/javascript" src="../../js/plugin/echarts.min.js"></script>
	</head>
	<body>
		<div class="iframe-page-warp w100 h100 relative bhManage-module-page tpManage-module-page">
			<div class="iframe-page-warp-content absolute">
				<!-- 切换列表 -->
				<!-- <div class="check-list-show-btn absolute">
				   <div class="on">统计</div>
				   <div>列表</div>
				</div> -->
				<div class="staticWarp-to-listWarp w100 h100 absolute">
					<div class="swiper-container w100 h100 static-list-warp-swiper">
						<div class="swiper-wrapper w100 h100">
							<div class="swiper-slide w100 h100 swiper-no-swiping">
								<!-- 顶部swiper -->
								<div class="module-swiper-slide-top-warp absolute">
								   <div class="swiper-container w100 h100 module-swiper-slide-top-swiper">
									   <div class="swiper-wrapper w100 h100">
										  <div class="swiper-slide w100 h100 swiper-no-swiping">
											  <ul>
												  <li class="title-li today"></li>
												  <li><p>今日采集数据</p><p>26482条</p></li>
												  <li class="color-1"><p>今日合格数据</p><p>7231</p></li>
												  <li class="color-2"><p>高级预警</p><p>8盘</p></li>
												  <li class="color-3"><p>中级预警</p><p>8盘</p></li>
												  <li class="color-4"><p>初级预警</p><p>8盘</p></li>
												  <li class="color-5"><p>处置率</p><p>100%</p></li>
											  </ul>
										  </div>
										  <div class="swiper-slide w100 h100 swiper-no-swiping">
											  <ul>
												  <li class="title-li"></li>
												  <li><p>累计采集数据</p><p>26482条</p></li>
												  <li class="color-1"><p>累计合格数据</p><p>7231</p></li>
												  <li class="color-2"><p>高级预警</p><p>8盘</p></li>
												  <li class="color-3"><p>中级预警</p><p>8盘</p></li>
												  <li class="color-4"><p>初级预警</p><p>8盘</p></li>
												  <li class="color-5"><p>处置率</p><p>100%</p></li>
											   </ul>
										  </div>
									   </div>
								   </div>
								</div>
								<!--  -->
								<div class="card-warp-small absolute w100">
									<div class="card-list absolute">
										<div class="card-header absolute text-l">水胶比走势图</div>
										<div class="echarts-time absolute">2019.08.13</div>
										<div id="syb-char" class="w100 h100 absolute echarts-warp"></div>
									</div>
									<div class="card-list absolute">
										<div class="card-header absolute text-r">拌和时间走势</div>
										<!-- 日期 -->
										<div class="echarts-time absolute">2019.08.13</div>
										<div id="gjsk-char" class="w100 h100 absolute echarts-warp"></div>
									</div>
									<div class="card-list absolute card-list-w100" style="width:100%!important;">
										<div class="card-header absolute text-l">运输车轨迹</div>
										<div class="card-list-w100-content absolute">
											<div class="card-list-w100-content-warp">
												<table class="border-table" width="98%">
													<thead>
														<tr>
															<th>车牌号</th>
															<th>司机姓名</th>
															<th>司机电话</th>
															<th>接料开始时间</th>
															<th>接料结束时间</th>
															<th>接料时长</th>
															<th>材料预警</th>
															<th>强度等级</th>
															<th>浇筑部位</th>
															<th>重量</th>
															<th>操作</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>KT0-12542</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
														<tr>
															<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><button class="ysgj_btn">运输轨迹</button></td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
									</div>
								</div>
							</div>
						
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
<script type="text/javascript">
	setTimeout(function(){
		swiperFun();
		checkSwiper();
		sybChar();
		gjskChar();
		
		$(".w100 div.li").each(function(index,item){
			DrawChar($(item).attr("id"),$(item).data("title"))
		});
		
	},100);
	
	//顶部轮播-swiper
	function swiperFun(){
		var mySwiper = new Swiper(".module-swiper-slide-top-swiper",{
			//循环
			loop:true,
			//切换效果
			direction:"vertical",
			effect:'left',
			//自动轮播
			autoplay: {
				delay:sonSwiperTime,
				stopOnLastSlide: false,
				disableOnInteraction: true,
			}
		});
	};
	
	//统计列表切换
	function checkSwiper(){
		var mySwiper = new Swiper(".static-list-warp-swiper",{
			//循环
			loop:false,
			direction:"vertical",
			//切换效果
			effect:'left',
			initialSlide:0,
			//自动轮播
			autoplay:false
		});
		$(document).on("click",".check-list-show-btn div",function(event){
			$(this).addClass("on").siblings().removeClass("on");
			var index = $(this).index();
			mySwiper.slideTo(index,300,false);
		});
	}

	//水胶比走势图-char
	function sybChar(){
		var charWarp = document.getElementById("syb-char");
		var initChar = echarts.init(charWarp);
		var options = {
				grid: {
					left: '5%',
					right: '10%',
					bottom: '4%',
					top:"28%",
					containLabel: true
				},
				tooltip: {
				  show: true,
				  trigger: 'axis'
				},
				legend:{
					right: 'center',
					top: '15%',
					textStyle: {
						color: '#fff',
					},
					textStyle:{
						color:"#a7c8fc"
					},
					itemGap:10,
					icon: 'rect',
					itemWidth:15,
					itemHeight:15,
					data: ['水胶比']
				},
				xAxis:xAxisConfig(['2019-08-06','2019-08-07','2019-08-08','2019-08-09','2019-08-10'],"",0),
				yAxis:yAxisConfig("单位(℃)",6,-4),
				series: [
					{
						name:'摊铺温度',
						type:'line',
						symbol:"circle",
						showAllSymbol:true,
						symbolSize:8,
						itemStyle: {
							borderColor: "#fff",
							borderWidth:2,
							color:"#68f265"
						},
						lineStyle:{
							width:2
						},
						// markLine : {
						// 	silent: true,
						// 	symbol:["none","arrow"],
						// 	label:{
						// 		normal:{
						// 			position:'end',
						// 			formatter:function(params){
						// 				return params.name+params.value
						// 			}
						// 		}
						// 	},
						// 	data: [
						// 		{
						// 			yAxis: 6,
						// 			name:"最大值",
						// 			lineStyle:{
						// 				normal:{
						// 					color:"#ef503b"
						// 				}
						// 			}
						// 		}, {
						// 			yAxis:-4,
						// 			name:"最小值",
						// 			lineStyle:{
						// 				normal:{
						// 					color:"#ffef90"
						// 				}
						// 			}
						// 		}
						// 	]
						// },
						data:[0,1.8, 2, 1.5,3]
					}
				],
				// visualMap:{
				// 	show:false,
				// 	pieces:[
				// 		//超过上限
				// 		{gt:6,color:"#ef503b"},
				// 		//低于下限
				// 		{lt:-4,color:"#ef503b"},
				// 		//正常
				// 		{gt:0, lt:6,color:"#68f265"}, 
				// 	]
				// }
			};
		initChar.setOption(options);
		$(window).resize(function() {
			initChar.resize();
		});
	};
	
	//拌和时间走势-char
	function gjskChar(){
		var charWarp = document.getElementById("gjsk-char");
		var initChar = echarts.init(charWarp);
		var options = {
				grid: {
					left: '5%',
					right: '10%',
					bottom: '4%',
					top:"30%",
					containLabel: true
				},
				tooltip: {
				  show: true,
				  trigger: 'axis'
				},
				legend:{
					right: 'center',
					top: '15%',
					textStyle: {
						color: '#fff',
					},
					textStyle:{
						color:"#a7c8fc"
					},
					itemGap:10,
					icon: 'rect',
					itemWidth:15,
					itemHeight:15,
					data: ['时间']
				},
				xAxis:xAxisConfig(['2019-08-06','2019-08-07','2019-08-08','2019-08-09','2019-08-10'],"",0),
				yAxis:yAxisConfig("单位(s)",50,0),
				series: [
					{
						name:'摊铺速度',
						type:'line',
						symbol:"circle",
						showAllSymbol:true,
						symbolSize:8,
						itemStyle: {
							borderColor: "#fff",
							borderWidth:2,
							color:"#68f265"
						},
						lineStyle:{
							width:2
						},
						markLine : {
							silent: true,
							symbol:["none","arrow"],
							label:{
								normal:{
									position:'end',
									formatter:function(params){
										return params.name+params.value
									}
								}
							},
							data: [
								{
									yAxis: 30,
									name:"预警线",
									lineStyle:{
										normal:{
											color:"#ef503b"
										}
									}
								}
							]
						},
						data:[20,22, 25, 21,22]
					}
				],
				visualMap:{
					show:false,
					pieces:[
						//超过上限
						{gt:30,color:"#ef503b"},
						//低于下限
						{lt:0,color:"#ef503b"},
						//正常
						{gt:0, lt:30,color:"#68f265"}, 
					]
				}
			};
		initChar.setOption(options);
		$(window).resize(function() {
			initChar.resize();
		});
	};
	
</script>
